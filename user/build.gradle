apply plugin: (Plugins.androidLibrary)
apply plugin: (Plugins.kotlinAndroid)
apply plugin: (Plugins.kotlinKapt)
apply plugin: (Plugins.hilt)

android {
    compileSdkVersion(AndroidSdk.compile)
    defaultConfig {
        minSdkVersion(AndroidSdk.min)
        testInstrumentationRunner "com.dionos.mystreamers.HiltTestRunner"
    }

    buildFeatures {
        viewBinding true
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = JavaVersion.VERSION_1_8.toString()
    }

    testOptions {
        unitTests.returnDefaultValues = true
    }

    packagingOptions {
        exclude 'META-INF/user_debug.kotlin_module'
    }
}

dependencies {
    implementation fileTree(dir: "libs", include: ["*.jar"])
    //Visibility
    implementation project(':core')

    //Kotlin
    implementation(Libraries.kotlinStdLib)

    //AndroidX ktx
    implementation(Libraries.coreKtx)
    implementation(Libraries.fragmentKtx) {
        exclude module: 'lifecycle-viewmodel-ktx'
        exclude module: 'lifecycle-viewmodel'
    }

    //AndroidX
    implementation(Libraries.appCompat) {
        exclude module: 'lifecycle-viewmodel'
    }
    implementation(Libraries.constraintLayout)

    //Android
    implementation(Libraries.material) {
        exclude group: 'androidx.transition', module: 'transition'
    }


    //Hilt
    implementation(Libraries.hilt)
    kapt(Libraries.hiltAndroidCompiler)

    //ViewModel
    implementation(Libraries.viewModel)

    //Hilt with ViewModel
    implementation(Libraries.hiltLifecycleViewModel)
    kapt(Libraries.hiltCompiler)

    //Coroutines
    implementation(Libraries.coroutinesAndroid)
    testImplementation(Libraries.coroutinesTest)

    //JUnit
    testImplementation(Libraries.jUnit)

    //Mockito
    testImplementation(Libraries.mockito)

    //UI Test
    androidTestImplementation(Libraries.testRunner)
    androidTestImplementation(Libraries.testRules)
    androidTestImplementation(Libraries.testCore)
    androidTestImplementation(Libraries.espresso)
    androidTestImplementation(Libraries.webViewEspresso)
    androidTestImplementation(Libraries.jUnitAndroid)
    androidTestImplementation(Libraries.hiltAndroidTesting)
    kaptAndroidTest(Libraries.hiltAndroidCompiler)
    debugImplementation(Libraries.fragmentTesting)

}